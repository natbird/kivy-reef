#:import ButtonBehavior kivy.uix.behaviors
#:import BoxLayout kivy.uix.boxlayout

<HomeScreenButton@ButtonBehavior+BoxLayout>
    orientation: 'vertical'
    
    image_source: ''
    label_text: 'Default'
    
    always_release: True
    on_press: button_image.color = (0, 0, 0, 1)
    on_release: button_image.color = (1, 1, 1, 1)

    Image:
        id: button_image
        source: root.image_source
        size_hint_y: 0.7
        allow_stretch: True
        keep_ratio: True
    Label:
        id: button_label
        text: root.label_text
        font_size: '20sp'
        size_hint_y: 0.3

<HomeScreen>:
    GridLayout:
        cols: 3
        padding: 10
        spacing: 20
        HomeScreenButton:
            label_text: "Sensors"
            image_source: './resources/icons/sensors_highres.png'
            size_hint_x: 0.33
            size_hint_y: 0.5
            on_press: app.root.goScreen(self, screen='Sensors')
        HomeScreenButton:
            label_text: "Equipment"
            image_source: './resources/icons/equipment_highres.png'
            size_hint_x: 0.33
            size_hint_y: 0.5
            on_press: app.root.goScreen(self, screen='Equipment')
        HomeScreenButton:
            label_text: "Usage"
            image_source: './resources/icons/usage_highres.png'
            size_hint_x: 0.33
            size_hint_y: 0.5
            on_press: app.root.goScreen(self, screen='Usage')
        HomeScreenButton:
            label_text: "Macros"
            image_source: './resources/icons/macros_highres.png'
            size_hint_x: 0.33
            size_hint_y: 0.5
            on_press: app.root.goScreen(self, screen='Macros')
        HomeScreenButton:
            label_text: "System"
            image_source: './resources/icons/settings_highres.png'
            size_hint_x: 0.33
            size_hint_y: 0.5
            on_press: app.root.goScreen(self, screen='System')
